# Test Report

**Generated:** 2025-11-28 06:30:07

## Summary

| Metric | Value |
|--------|-------|
| Total Tests | 79 |
| Passed | 45 |
| Failed | 0 |
| Skipped | 34 |
| Duration | 197.86s |

## API Endpoints Coverage

**Total Endpoints Tested:** 28

### ğŸŸ¢ Health Check Endpoints

**Test File:** `test_health.py` | **Tests:** 5 passed, 0 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/` | Service info |
| `GET` | `/health` | Basic health check |
| `GET` | `/health/detailed` | Detailed infrastructure status |
| `GET` | `/health/live` | Kubernetes liveness probe |
| `GET` | `/health/ready` | Kubernetes readiness probe |

### ğŸŸ¡ Authentication Endpoints

**Test File:** `test_auth.py` | **Tests:** 6 passed, 2 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/api/v1/auth/login` | Form-based login |
| `POST` | `/api/v1/auth/login/json` | JSON-based login |
| `POST` | `/api/v1/auth/refresh` | Refresh access token |
| `GET` | `/api/v1/auth/me` | Get current user info |
| `POST` | `/api/v1/auth/logout` | Logout user |

### ğŸŸ¢ BESS (Battery Energy Storage System) Endpoints

**Test File:** `test_bess.py` | **Tests:** 12 passed, 0 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/v1/bess/{bess_number}` | Get BESS unit info (1-12) |
| `GET` | `/api/v1/bess/alert/rack/{rack_number}` | Get rack alerts (rack01-rack12) |

### ğŸŸ¢ PCS (Power Conversion System) Endpoints

**Test File:** `test_pcs.py` | **Tests:** 6 passed, 0 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/v1/pcs/{pcs_number}` | Get PCS unit info (1-12) |
| `GET` | `/api/v1/pcs/alert` | Get PCS alert status |

### ğŸŸ¢ Inverter Endpoints

**Test File:** `test_inverter.py` | **Tests:** 6 passed, 0 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/v1/inverter` | Get inverter data (MPPT, strings, phases) |

### ğŸŸ¡ Meter Endpoints

**Test File:** `test_meters.py` | **Tests:** 2 passed, 6 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/v1/meters` | Get all meter info |
| `GET` | `/api/v1/meters/aux` | Get auxiliary meter data (chart/summary) |

### ğŸŸ¡ Configuration Endpoints

**Test File:** `test_config.py` | **Tests:** 4 passed, 3 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/v1/config/sidebar` | Get sidebar configuration |
| `GET` | `/api/v1/config/header` | Get header alert summary |

### ğŸŸ¢ System Endpoints

**Test File:** `test_system.py` | **Tests:** 4 passed, 0 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/v1/system/overview` | Get system overview |
| `GET` | `/api/v1/system/topology` | Get system topology (nodes/links) |

### ğŸŸ¡ Schedule & Income Endpoints

**Test File:** `test_schedule.py` | **Tests:** 0 passed, 13 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/v1/schedule` | Get schedule events |
| `GET` | `/api/v1/schedule/income/daily` | Get daily income data |
| `GET` | `/api/v1/schedule/income/monthly` | Get monthly income data |
| `GET` | `/api/v1/schedule/exec-rate` | Get execution rate data |

### ğŸŸ¡ Power Analysis Endpoints

**Test File:** `test_analysis.py` | **Tests:** 0 passed, 10 skipped, 0 failed

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/v1/analysis/power-loss` | Get power loss analysis |
| `GET` | `/api/v1/analysis/power-io` | Get power I/O data |
| `GET` | `/api/v1/analysis/freq-power` | Get frequency-power data |

## Detailed Test Results

| Status | Test | Duration |
|--------|------|----------|
| â­ï¸ SKIP | `test_analysis.py::test_get_power_loss` | 0.028s |
| â­ï¸ SKIP | `test_analysis.py::test_get_power_loss_requires_start_time` | 0.003s |
| â­ï¸ SKIP | `test_analysis.py::test_get_power_io` | 0.003s |
| â­ï¸ SKIP | `test_analysis.py::test_get_power_io_daily` | 0.003s |
| â­ï¸ SKIP | `test_analysis.py::test_get_power_io_monthly` | 0.003s |
| â­ï¸ SKIP | `test_analysis.py::test_get_power_io_requires_select_time` | 0.003s |
| â­ï¸ SKIP | `test_analysis.py::test_get_freq_power` | 0.003s |
| â­ï¸ SKIP | `test_analysis.py::test_get_freq_power_requires_date_period` | 0.003s |
| â­ï¸ SKIP | `test_analysis.py::test_get_freq_power_modes` | 0.003s |
| â­ï¸ SKIP | `test_analysis.py::test_get_freq_power_select_time_mode` | 0.003s |
| â­ï¸ SKIP | `test_auth.py::test_login_invalid_credentials` | 0.014s |
| â­ï¸ SKIP | `test_auth.py::test_login_json_invalid_credentials` | 0.003s |
| âœ… PASS | `test_auth.py::test_login_missing_fields` | 0.002s |
| âœ… PASS | `test_auth.py::test_login_json_missing_fields` | 0.002s |
| âœ… PASS | `test_auth.py::test_refresh_token_invalid` | 0.002s |
| âœ… PASS | `test_auth.py::test_get_me_unauthenticated` | 0.002s |
| âœ… PASS | `test_auth.py::test_get_me_invalid_token` | 0.002s |
| âœ… PASS | `test_auth.py::test_logout_unauthenticated` | 0.002s |
| âœ… PASS | `test_bess.py::test_get_bess_info` | 5.007s |
| âœ… PASS | `test_bess.py::test_get_bess_info_all_valid_numbers` | 60.092s |
| âœ… PASS | `test_bess.py::test_get_bess_info_invalid_zero` | 5.008s |
| âœ… PASS | `test_bess.py::test_get_bess_info_invalid_too_high` | 5.009s |
| âœ… PASS | `test_bess.py::test_get_bess_info_invalid_negative` | 5.008s |
| âœ… PASS | `test_bess.py::test_get_bess_info_data_structure` | 5.008s |
| âœ… PASS | `test_bess.py::test_get_rack_alert` | 5.007s |
| âœ… PASS | `test_bess.py::test_get_rack_alert_all_valid_racks` | 60.084s |
| âœ… PASS | `test_bess.py::test_get_rack_alert_invalid_rack00` | 5.009s |
| âœ… PASS | `test_bess.py::test_get_rack_alert_invalid_rack13` | 5.011s |
| âœ… PASS | `test_bess.py::test_get_rack_alert_invalid_format` | 5.008s |
| âœ… PASS | `test_bess.py::test_get_rack_alert_alerts_structure` | 5.008s |
| âœ… PASS | `test_config.py::test_sidebar_info` | 0.002s |
| âœ… PASS | `test_config.py::test_sidebar_info_device_count` | 0.002s |
| âœ… PASS | `test_config.py::test_sidebar_info_types` | 0.002s |
| âœ… PASS | `test_config.py::test_sidebar_info_cctv_url` | 0.002s |
| â­ï¸ SKIP | `test_config.py::test_header_info` | 0.005s |
| â­ï¸ SKIP | `test_config.py::test_header_info_alert_structure` | 0.003s |
| â­ï¸ SKIP | `test_config.py::test_header_info_alert_counts` | 0.003s |
| âœ… PASS | `test_health.py::test_root` | 0.001s |
| âœ… PASS | `test_health.py::test_health_check` | 0.001s |
| âœ… PASS | `test_health.py::test_health_detailed` | 5.018s |
| âœ… PASS | `test_health.py::test_liveness_check` | 0.001s |
| âœ… PASS | `test_health.py::test_readiness_check` | 0.011s |
| âœ… PASS | `test_inverter.py::test_get_inverter_data` | 0.004s |
| âœ… PASS | `test_inverter.py::test_get_inverter_data_inverter_structure` | 0.003s |
| âœ… PASS | `test_inverter.py::test_get_inverter_data_mppt_structure` | 0.003s |
| âœ… PASS | `test_inverter.py::test_get_inverter_data_string_currents_structure` | 0.003s |
| âœ… PASS | `test_inverter.py::test_get_inverter_data_phase_structure` | 0.003s |
| âœ… PASS | `test_inverter.py::test_get_inverter_data_null_values_when_no_data` | 0.003s |
| âœ… PASS | `test_meters.py::test_get_meter_info` | 0.003s |
| âœ… PASS | `test_meters.py::test_get_meter_info_empty_when_no_redis` | 0.003s |
| â­ï¸ SKIP | `test_meters.py::test_get_aux_meter_chart` | 0.003s |
| â­ï¸ SKIP | `test_meters.py::test_get_aux_meter_summary` | 0.003s |
| â­ï¸ SKIP | `test_meters.py::test_get_aux_meter_default_type` | 0.003s |
| â­ï¸ SKIP | `test_meters.py::test_get_aux_meter_invalid_type` | 0.003s |
| â­ï¸ SKIP | `test_meters.py::test_get_aux_meter_with_time` | 0.003s |
| â­ï¸ SKIP | `test_meters.py::test_get_aux_meter_summary_structure` | 0.003s |
| âœ… PASS | `test_pcs.py::test_get_pcs_info` | 0.001s |
| âœ… PASS | `test_pcs.py::test_get_pcs_info_all_valid_numbers` | 0.011s |
| âœ… PASS | `test_pcs.py::test_get_pcs_info_invalid_zero` | 0.001s |
| âœ… PASS | `test_pcs.py::test_get_pcs_info_invalid_too_high` | 0.002s |
| âœ… PASS | `test_pcs.py::test_get_pcs_alert` | 5.007s |
| âœ… PASS | `test_pcs.py::test_get_pcs_alert_default_status` | 5.006s |
| â­ï¸ SKIP | `test_schedule.py::test_get_schedule` | 0.003s |
| â­ï¸ SKIP | `test_schedule.py::test_get_schedule_default_params` | 0.003s |
| â­ï¸ SKIP | `test_schedule.py::test_get_schedule_with_mode_filter` | 0.004s |
| â­ï¸ SKIP | `test_schedule.py::test_get_schedule_with_weeks` | 0.005s |
| â­ï¸ SKIP | `test_schedule.py::test_get_schedule_weeks_validation` | 0.007s |
| â­ï¸ SKIP | `test_schedule.py::test_get_daily_income` | 0.004s |
| â­ï¸ SKIP | `test_schedule.py::test_get_daily_income_with_time` | 0.003s |
| â­ï¸ SKIP | `test_schedule.py::test_get_monthly_income` | 0.004s |
| â­ï¸ SKIP | `test_schedule.py::test_get_monthly_income_validation` | 0.004s |
| â­ï¸ SKIP | `test_schedule.py::test_get_monthly_income_invalid_format` | 0.003s |
| â­ï¸ SKIP | `test_schedule.py::test_get_exec_rate` | 0.004s |
| â­ï¸ SKIP | `test_schedule.py::test_get_exec_rate_types` | 0.002s |
| â­ï¸ SKIP | `test_schedule.py::test_get_exec_rate_requires_date` | 0.003s |
| âœ… PASS | `test_system.py::test_system_overview` | 0.002s |
| âœ… PASS | `test_system.py::test_topology` | 4.007s |
| âœ… PASS | `test_system.py::test_topology_nodes_structure` | 4.007s |
| âœ… PASS | `test_system.py::test_topology_links_structure` | 4.006s |

## Skipped Tests (Database Unavailable)

The following 34 tests were skipped due to database unavailability (503 response):

- `test_analysis.py::test_get_power_loss`
- `test_analysis.py::test_get_power_loss_requires_start_time`
- `test_analysis.py::test_get_power_io`
- `test_analysis.py::test_get_power_io_daily`
- `test_analysis.py::test_get_power_io_monthly`
- `test_analysis.py::test_get_power_io_requires_select_time`
- `test_analysis.py::test_get_freq_power`
- `test_analysis.py::test_get_freq_power_requires_date_period`
- `test_analysis.py::test_get_freq_power_modes`
- `test_analysis.py::test_get_freq_power_select_time_mode`
- `test_auth.py::test_login_invalid_credentials`
- `test_auth.py::test_login_json_invalid_credentials`
- `test_config.py::test_header_info`
- `test_config.py::test_header_info_alert_structure`
- `test_config.py::test_header_info_alert_counts`
- `test_meters.py::test_get_aux_meter_chart`
- `test_meters.py::test_get_aux_meter_summary`
- `test_meters.py::test_get_aux_meter_default_type`
- `test_meters.py::test_get_aux_meter_invalid_type`
- `test_meters.py::test_get_aux_meter_with_time`
- `test_meters.py::test_get_aux_meter_summary_structure`
- `test_schedule.py::test_get_schedule`
- `test_schedule.py::test_get_schedule_default_params`
- `test_schedule.py::test_get_schedule_with_mode_filter`
- `test_schedule.py::test_get_schedule_with_weeks`
- `test_schedule.py::test_get_schedule_weeks_validation`
- `test_schedule.py::test_get_daily_income`
- `test_schedule.py::test_get_daily_income_with_time`
- `test_schedule.py::test_get_monthly_income`
- `test_schedule.py::test_get_monthly_income_validation`
- `test_schedule.py::test_get_monthly_income_invalid_format`
- `test_schedule.py::test_get_exec_rate`
- `test_schedule.py::test_get_exec_rate_types`
- `test_schedule.py::test_get_exec_rate_requires_date`